webpackJsonp([31],{1387:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(168),u=a(o),c=n(52),d=a(c),s=n(45),f=a(s),m=n(64),p=a(m),h=n(21),y=a(h),b=n(29),v=a(b),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(262),n(56),n(51),n(63),n(27),n(31);var E=n(0),_=a(E),k=n(1659),x=a(k),w=n(1897),O=a(w),C=n(20),S=(v.default.TabPane,y.default.Option,p.default.TextArea),j=function(e){function t(e){l(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={yundan:[],finish:[{}],memo:"",currentkey:0},n.callback=n.callback.bind(n),n}return i(t,e),g(t,[{key:"callback",value:function(e){console.log(e)}},{key:"fetch",value:function(){var e=this,t=this.props.location.search,n=t.split("=")[1];C.RequireUtils.baseRequire("order-finish/finish-details",{order_id:n},function(t){if(1==t.code){var n=t.data.finish,a=t.data.yundan,l=n.map(function(e,t){return e.key=t,e.editable=!1,e}),r=a.map(function(e,t){e.key=t;var n=e.cars.map(function(e,t){return e.editable=!1,e.key=t,e});return e.cars=n,e});e.setState({finish:l,yundan:r,memo:l[0].memo})}else e.setState({yundan:[],finish:[{}],memo:""})}.bind(this))}},{key:"textareachange",value:function(e){var t=e.target.value;this.setState({memo:t})}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){var e=this,t=this.state,n=t.finish,a=t.yundan,l=t.memo,r=this,i=n[0].editable?_.default.createElement("div",{style:{marginTop:"5px"}},_.default.createElement(S,{placeholder:"\u8bf7\u8f93\u5165\u989d\u5916\u8d39\u7528\u8bf4\u660e",value:l,onChange:function(t){return e.textareachange(t)}})):"";return _.default.createElement("div",null,_.default.createElement(f.default,null),_.default.createElement(f.default,{gutter:8},_.default.createElement(d.default,{span:24},_.default.createElement("div",{style:{padding:"25px 15px"}},_.default.createElement("span",{style:{fontSize:"20px",fontWeight:"bold"}},"\u7ed3\u7b97\u5355\u8be6\u60c5")),_.default.createElement(u.default,{hoverable:!0,type:"card"},a.map(function(e,t){return e.key=t,_.default.createElement(x.default,{yundan:e,mykey:t,key:t,pthis:r,go:r.fetch})}),_.default.createElement(f.default,{gutter:8,style:{marginTop:"10px"}},_.default.createElement(d.default,{style:{fontSize:"16px",color:"black",marginBottom:"10px"}},"\u7ed3\u7b97\u4fe1\u606f")),_.default.createElement(f.default,{gutter:8,style:{marginTop:"10px"}},_.default.createElement(d.default,null,_.default.createElement(O.default,{finish:n,pthis:r,go:r.fetch})),_.default.createElement(d.default,null,i))))))}}]),t}(_.default.Component);t.default=j,e.exports=t.default},1521:function(e,t,n){var a=n(1598);"string"===typeof a&&(a=[[e.i,a,""]]);var l={hmr:!0};l.transform=void 0;n(11)(a,l);a.locals&&(e.exports=a.locals)},1591:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t,n){var a=this.props,l=a.pthis,r=a.mykey,i=0,u=l,c=u.state.yundan,d=u.state.finish,s=[].concat(o(c[r].cars)),f=s.filter(function(e){return t===e.key})[0];if(f)if(f[n]=e,"final_num"==n){for(var m=0;m<c.length;m++)for(var p=c[m].cars,h=0;h<p.length;h++){var y=p[h];i+=Number(y.final_num)}d[0].goods_num=i;var b=d[0];b.summary_fee=Number(i)*Number(b.goods_price)+Number(b.deliver_fee)+Number(b.extra_fee),u.setState({yundan:c,finish:d})}else u.setState({yundan:c})}function c(e){var t=Number(e.car_status);return 0==Number(e.order_source)?7==t?j.default.createElement("span",{style:{color:"green"}},"\u5df2\u5b8c\u7ed3"):j.default.createElement("span",null,j.default.createElement(_.default,{title:e.car_memo},j.default.createElement("span",{style:{color:"red"}},"\u5f02\u5e38\u5173\u95ed"))):4==t?j.default.createElement("span",{style:{color:"green"}},"\u8fd0\u8f93\u4e2d"):5==t?j.default.createElement("span",{style:{color:"green"}},"\u8fd0\u5378\u8f7d"):7==t?j.default.createElement("span",null,j.default.createElement(_.default,{title:e.car_memo},j.default.createElement("span",{style:{color:"green"}},"\u5df2\u5b8c\u7ed3"))):j.default.createElement("span",null,j.default.createElement(_.default,{title:e.car_memo},j.default.createElement("span",{style:{color:"red"}},"\u5f02\u5e38\u5173\u95ed")))}Object.defineProperty(t,"__esModule",{value:!0});var d=n(169),s=a(d),f=n(45),m=a(f),p=n(12),h=a(p),y=n(64),b=a(y),v=n(52),g=a(v),E=n(86),_=a(E),k=n(21),x=a(k),w=n(29),O=a(w),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(264),n(51),n(38),n(63),n(56),n(268),n(27),n(31);var S=n(0),j=a(S),N=(n(20),n(1521)),P=(a(N),n(1661)),R=a(P),F=n(1662),L=a(F),T=(O.default.TabPane,x.default.Option,function(e){function t(e){l(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleAddCancel=function(){n.refs.UpdateCar.resetFields(),n.setState({updatecar:!1})},n.state={updatezcbd:!1,updatexcbd:!1},n.callback=n.callback.bind(n),n}return i(t,e),C(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.form.validateFields(function(e,t){e||console.log("Received values of form: ",t)})}},{key:"callback",value:function(e){console.log(e)}},{key:"handleZcbdCancel",value:function(){this.refs.UpdateZdbdList.resetFields(),this.setState({zcbd:!1})}},{key:"handleXcCancel",value:function(){this.refs.XcbdList.resetFields(),this.setState({xcbd:!1})}},{key:"Addzdbd",value:function(){this.setState({updatezcbd:!0})}},{key:"Removexcbd",value:function(){this.setState({updatexcbd:!0})}},{key:"handleUpdateZdbdCancel",value:function(){this.refs.UpdateZdbdList.resetFields(),this.setState({updatezcbd:!1})}},{key:"handleUpdateXcbdCancel",value:function(){this.refs.UpdateXcbdList.resetFields(),this.setState({updatexcbd:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.item,a=t.go,l=t.pthis,r=this.state,i=r.updatezcbd,o=r.updatexcbd,d=c.bind(this)(n),f=[{uid:new Date,name:n.send_bill,status:"done",url:n.send_bill}],p=[{uid:"recv"+new Date,name:n.send_bill,status:"done",url:n.recv_bill}];return j.default.createElement("div",null,j.default.createElement("div",null,j.default.createElement(m.default,{className:"table-other-line",type:"flex",align:"middle"},j.default.createElement(g.default,{span:5},j.default.createElement("div",{className:"my-custom-center",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},j.default.createElement("span",null,"\u51fa\u8f66\u5355\u7f16\u53f7"),j.default.createElement("span",{title:n.car_code},n.car_code)),j.default.createElement("div",{className:"my-custom-center"},j.default.createElement("span",{style:{marginRight:"5px"}},"\u9001\u8fbe\u65f6\u95f4"),j.default.createElement("span",null,n.end_date))),j.default.createElement(g.default,{span:3},j.default.createElement("div",{className:"my-custom-center",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},j.default.createElement("span",{style:{marginRight:"5px"}},"\u8f66\u5934"),j.default.createElement("span",null,n.head_card)),j.default.createElement("div",{className:"my-custom-center",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},j.default.createElement("span",{style:{marginRight:"5px"}},"\u8f66\u6302"),j.default.createElement("span",null,n.body_card))),j.default.createElement(g.default,{span:2},j.default.createElement("div",{className:"my-custom-center"},n.head_contact),j.default.createElement("div",{className:"my-custom-center"},n.body_contact)),j.default.createElement(g.default,{span:4},j.default.createElement("div",{className:"my-custom-center",style:{marginBottom:"5px"}},j.default.createElement("span",{style:{marginRight:"5px"}},"\u88c5\u8f66\u91cf"),j.default.createElement("span",null,n.editable&&8!=n.car_status?j.default.createElement(b.default,{style:{margin:"-0px 0",width:"60px"},value:n.send_num,onChange:function(t){return u.bind(e)(t.target.value,n.key,"send_num")}}):n.send_num,"\u5428")),j.default.createElement("div",{className:"my-custom-center"},j.default.createElement("span",{style:{marginRight:"5px"}},"\u5378\u8f66\u91cf"),j.default.createElement("span",null,n.editable&&8!=n.car_status?j.default.createElement(b.default,{style:{margin:"-0px 0",width:"60px"},value:n.recv_num,onChange:function(t){return u.bind(e)(t.target.value,n.key,"recv_num")}}):n.recv_num,"\u5428"))),j.default.createElement(g.default,{span:4},j.default.createElement("div",{className:"my-custom-center"},j.default.createElement("span",{style:{marginRight:"5px"}},"\u7ed3\u7b97\u91cf"),j.default.createElement("span",null,n.editable&&8!=n.car_status?j.default.createElement(b.default,{style:{margin:"-0px 0",width:"60px"},value:n.final_num,onChange:function(t){return u.bind(e)(t.target.value,n.key,"final_num")}}):n.final_num,"\u5428"))),j.default.createElement(g.default,{span:3},n.modify_flag?j.default.createElement("div",{className:"my-custom-center",onClick:function(){return e.Addzdbd.bind(e)()}},j.default.createElement(h.default,{type:"edit"}),"\u4fee\u6539\u88c5\u8f66\u78c5\u5355"):"",n.modify_flag?j.default.createElement("div",{className:"my-custom-center",onClick:function(){return e.Removexcbd.bind(e)()}},j.default.createElement(h.default,{type:"edit"}),"\u4fee\u6539\u5378\u8f66\u78c5\u5355"):""),j.default.createElement(g.default,{span:3},j.default.createElement("div",{className:"my-custom-center"},d)))),j.default.createElement(s.default,{title:"\u4fee\u6539\u88c5\u8f66\u78c5\u5355",visible:i,onOk:this.handleOk,onCancel:this.handleUpdateZdbdCancel.bind(this),footer:null},j.default.createElement(L.default,{ref:"UpdateZdbdList",item:n,imgFiles:f,handleUpdateZdbdCancel:this.handleUpdateZdbdCancel.bind(this),go:a,pthis:l})),j.default.createElement(s.default,{title:"\u4fee\u6539\u5378\u8f66\u78c5\u5355",visible:o,onOk:this.handleOk,onCancel:this.handleUpdateXcbdCancel.bind(this),footer:null},j.default.createElement(R.default,{item:n,ref:"UpdateXcbdList",rimgFile:p,handleUpdateXcbdCancel:this.handleUpdateXcbdCancel.bind(this),go:a,pthis:l})))}}]),t}(j.default.Component));t.default=T,e.exports=t.default},1598:function(e,t,n){t=e.exports=n(10)(void 0),t.push([e.i,'.table-first-line {\n  background: #f5f3f3;\n  padding: 10px 15px;\n  overflow: hidden;\n}\n.table-other-line {\n  padding: 20px 15px;\n}\n.table-other-line .my-custom-center {\n  text-align: center;\n}\n.no-padding .ant-table-tbody > tr > td {\n  padding: 0;\n}\ni.expand-mark {\n  display: inline-block;\n  border: 1px solid #ddd;\n  font-style: normal;\n}\n.my-table-title-center-balancelistdetail .ant-table-thead > tr > th,\n.my-table-title-center-balancelistdetail .ant-table-tbody > tr > td {\n  text-align: center;\n}\n.my-table-title-center-orderlistdetail .ant-table-thead > tr > th,\n.my-table-title-center-orderlistdetail .ant-table-tbody > tr > td {\n  text-align: center;\n}\n.table-expand:before {\n  content: "-";\n}\n.table-not-expand:before {\n  content: "+";\n}\n.my-custom-padding .ant-form-item {\n  margin-bottom: 0 ;\n}\n.my-custom-padding .ant-col-24.ant-form-item-label {\n  padding: 0;\n}\n',""])},1659:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(263),u=a(o),c=n(21),d=a(c),s=n(29),f=a(s),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(468),n(27),n(31);var p=n(0),h=a(p),y=n(1660),b=a(y),v=n(1591),g=a(v),E=n(1521),_=(a(E),f.default.TabPane,d.default.Option,function(e){function t(e){l(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={data:[{}],tableExpand:!1},n.callback=n.callback.bind(n),n}return i(t,e),m(t,[{key:"tablerowclick",value:function(e,t){var n=e.target,a=this.state.tableExpand;"I"==n.tagName&&this.setState({tableExpand:!a})}},{key:"componentDidMount",value:function(){}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.form.validateFields(function(e,t){e||console.log("Received values of form: ",t)})}},{key:"callback",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this,t=this.state.tableExpand,n=this.props,a=n.yundan,l=n.pthis,r=n.mykey,i=n.go,o=[a],c=a.cars,d=[{title:"",dataIndex:"order",key:"order",render:function(e,n){return h.default.createElement(b.default,{item:n,mykey:r,tableExpand:t,pthis:l,go:i})}}];return h.default.createElement("div",null,h.default.createElement(u.default,{className:"no-padding",showHeader:!1,columns:d,dataSource:o,pagination:{position:"none"},bordered:!1,onRow:function(t){return{onClick:function(n){return e.tablerowclick(n,t)}}}}),h.default.createElement("div",{style:{display:t?"block":"none"}},c.map(function(e,t){return h.default.createElement(g.default,{mykey:r,item:e,key:t,pthis:l,go:i})})))}}]),t}(h.default.Component));t.default=_,e.exports=t.default},1660:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),u=a(o),c=n(52),d=a(c),s=n(21),f=a(s),m=n(29),p=a(m),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(51),n(56),n(27),n(31);var y=n(0),b=a(y),v=n(1521),g=(a(v),n(1591)),E=(a(g),n(20),p.default.TabPane,f.default.Option,function(e){function t(e){l(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleAddCancel=function(){n.refs.AddCar.resetFields(),n.setState({addcar:!1,freeselectData:[]})},n.state={},n.callback=n.callback.bind(n),n}return i(t,e),h(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.form.validateFields(function(e,t){e||console.log("Received values of form: ",t)})}},{key:"callback",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.tableExpand,a=(e.go,n?"expand-mark table-expand":"expand-mark table-not-expand"),l=t.faddr_province+t.faddr_city+t.faddr_county+t.faddr_detail,r=t.addr_province+t.addr_city+t.addr_county+t.addr_detail;return b.default.createElement("div",null,b.default.createElement("div",null,b.default.createElement(u.default,{className:"table-first-line"},b.default.createElement("div",null,b.default.createElement(d.default,{span:24},b.default.createElement("div",{style:{textAlign:"left"}},b.default.createElement("span",{style:{marginRight:"5px"}},"\u8fd0\u5355\u7f16\u53f7"),b.default.createElement("span",{style:{marginRight:"20px"}},t.deliver_code))))),b.default.createElement(u.default,{className:"table-other-line",type:"flex",align:"middle"},b.default.createElement(d.default,null,b.default.createElement("div",{className:"my-custom-center"},b.default.createElement("i",{className:a}))),b.default.createElement(d.default,{span:3},b.default.createElement("div",{className:"my-custom-center"},b.default.createElement("span",null,"\u8fd0\u8f93\u60c5\u51b5")),b.default.createElement("div",{className:"my-custom-center"},b.default.createElement("span",null,t.load_num,"/",t.recv_num,"\u5428"))),b.default.createElement(d.default,{span:4},b.default.createElement("div",{className:"my-custom-center",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},b.default.createElement("span",{style:{marginRight:"5px"}},"\u88c5\u8f66\u7ad9\u70b9"),b.default.createElement("span",{title:l},t.faddr_province,t.faddr_city,t.faddr_county,t.faddr_detail)),b.default.createElement("div",{className:"my-custom-center"},b.default.createElement("span",{style:{marginRight:"5px"}},t.send_contact),b.default.createElement("span",{title:t.send_mobile},t.send_mobile))),b.default.createElement(d.default,{span:7},b.default.createElement("div",{className:"my-custom-center"},b.default.createElement("span",{style:{marginRight:"5px"}},"\u5378\u8f66\u7ad9\u70b9"),b.default.createElement("span",{title:r},t.addr_province,t.addr_city,t.addr_county,t.addr_detail)),b.default.createElement("div",{className:"my-custom-center"},b.default.createElement("span",{style:{marginRight:"5px"}},t.recv_contact),b.default.createElement("span",{title:t.recv_mobile},t.recv_mobile))),b.default.createElement(d.default,{span:4},b.default.createElement("div",{className:"my-custom-center"},b.default.createElement("span",null,"\u7ed3\u7b97\u91cf")),b.default.createElement("div",{className:"my-custom-center"},b.default.createElement("span",null,t.final_num,"\u5428"))),b.default.createElement(d.default,{span:3}))))}}]),t}(b.default.Component));t.default=E,e.exports=t.default},1661:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){return!1}function c(){this.props.handleUpdateXcbdCancel(),this.props.form.resetFields()}function d(e,t){var n=this;this.setState({loading:!0});var a=this.state.fileList,l=new FormData;a.forEach(function(e){l.append("DeliverForm[recv_bill_file]",e)}),e.preventDefault(),this.props.form.validateFields(function(e,a){if(console.log(e),e)n.setState({loading:!1});else{var r=n.props,i=r.pthis,o=r.go;l.append("recv_num",a.recv_num),l.append("id",t.id),T.RequireUtils.fileBaseRequire("order-deliver/recv-bill",l,function(e){e.code?(alert(e.msg),this.setState({loading:!1}),o.bind(i)(),this.props.handleUpdateXcbdCancel(),this.props.form.resetFields()):(alert(e.msg),this.setState({loading:!1}))}.bind(n))}})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(41),f=a(s),m=n(266),p=a(m),h=n(45),y=a(h),b=n(52),v=a(b),g=n(64),E=a(g),_=n(12),k=a(_),x=n(21),w=a(x),O=n(100),C=a(O),S=n(101),j=a(S),N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},P=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(62),n(470),n(51),n(56),n(63),n(38),n(27),n(129),n(170);var R=n(0),F=a(R),L=n(24),T=(a(L),n(20)),A=(j.default.Group,C.default.create),U=C.default.Item,D=(w.default.Option,function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){var t=n,a=new FileReader;if("removed"==e.file.status){var r=n.state.showFileList,i=r.indexOf(e.file),o=r.slice();return o.splice(i,1),void t.setState({showFileList:[].concat(l(o)),mymark:!1})}a.readAsDataURL(e.file),a.onload=function(e){var n=t.state.showFileList,a={uid:(new Date).getTime(),name:"xxx.png",status:"done",url:this.result};t.setState({showFileList:[].concat(l(n),[a])})}},n.state={loading:!1,mymark:!0,fileList:[],showFileList:[],form:{send_num:""}},n.callback=n.callback.bind(n),n}return o(t,e),P(t,[{key:"callback",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this,t={labelCol:{span:24},wrapperCol:{span:24}},n=this.props.item,a=n.recv_num,r=this.props.rimgFile;this.state.mymark&&(this.state.showFileList=r);var i=this.props.form.getFieldDecorator,o=this.state.showFileList,s={action:"//jsonplaceholder.typicode.com/posts/",listType:"picture-card",onRemove:function(t){e.setState(function(e){var n=e.fileList,a=n.indexOf(t),l=n.slice();return l.splice(a,1),{fileList:l}})},beforeUpload:function(t){return e.setState(function(e){return{fileList:[].concat(l(e.fileList),[t])}}),!1},fileList:this.state.fileList},m=F.default.createElement("div",null,F.default.createElement(k.default,{type:"plus"}),F.default.createElement("div",{className:"ant-upload-text"},"Upload"));return F.default.createElement("div",{className:"my-custom-padding"},F.default.createElement("main",null,F.default.createElement(C.default,null,F.default.createElement(y.default,{gutter:8},F.default.createElement(v.default,{span:11},F.default.createElement(U,N({},t,{label:"\u88c5\u8f66\u91cf(\u5428)"}),i("recv_num",{initialValue:a})(F.default.createElement(E.default,{onContextMenu:u,onPaste:u,onCopy:u,onCut:u,autoComplete:"off"})))),F.default.createElement(v.default,{span:2})),F.default.createElement(y.default,null,F.default.createElement(v.default,{span:11},F.default.createElement("div",null,"\u88c5\u8f66\u78c5\u5355"),F.default.createElement(p.default,N({},s,{fileList:o,onChange:this.handleChange}),o.length>=1?null:m))),F.default.createElement(y.default,{style:{marginTop:"10px"}},F.default.createElement(v.default,{style:{textAlign:"right"}},F.default.createElement(f.default,{onClick:c.bind(this),style:{marginRight:"10px"}},"\u53d6\u6d88"),F.default.createElement(f.default,{type:"primary",loading:this.state.loading,onClick:function(t){return d.bind(e)(t,n)}},"\u786e\u5b9a"))))))}}]),t}(F.default.Component));D=A()(D),t.default=D,e.exports=t.default},1662:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){return!1}function c(){this.props.handleUpdateZdbdCancel(),this.props.form.resetFields()}function d(e,t){var n=this;this.setState({loading:!0});var a=this.state.fileList,l=new FormData;a.forEach(function(e){l.append("DeliverForm[send_bill_file]",e)}),e.preventDefault(),this.props.form.validateFields(function(e,a){if(console.log(e),e)n.setState({loading:!1});else{l.append("send_num",a.send_num),l.append("id",t.id);var r=n.props,i=r.pthis,o=r.go;U.RequireUtils.fileBaseRequire("order-deliver/send-bill",l,function(e){e.code?(w.default.success(e.msg),this.setState({loading:!1}),o.bind(i)(),this.props.handleUpdateZdbdCancel(),this.props.form.resetFields()):(w.default.error(e.msg),this.setState({loading:!1}))}.bind(n))}})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(41),f=a(s),m=n(266),p=a(m),h=n(45),y=a(h),b=n(52),v=a(b),g=n(64),E=a(g),_=n(12),k=a(_),x=n(65),w=a(x),O=n(21),C=a(O),S=n(100),j=a(S),N=n(101),P=a(N),R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},F=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(62),n(470),n(51),n(56),n(63),n(38),n(72),n(27),n(129),n(170);var L=n(0),T=a(L),A=n(24),U=(a(A),n(20)),D=(P.default.Group,j.default.create),M=j.default.Item,z=(C.default.Option,function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){var t=n,a=new FileReader;if("removed"==e.file.status){var r=n.state.showFileList,i=r.indexOf(e.file),o=r.slice();return o.splice(i,1),void t.setState({showFileList:[].concat(l(o)),mymark:!1})}a.readAsDataURL(e.file),a.onload=function(e){var n=t.state.showFileList,a={uid:(new Date).getTime(),name:"xxx.png",status:"done",url:this.result};t.setState({showFileList:[].concat(l(n),[a])})}},n.state={loading:!1,mymark:!0,fileList:[],showFileList:[],form:{send_num:""}},n.callback=n.callback.bind(n),n}return o(t,e),F(t,[{key:"callback",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this,t={labelCol:{span:24},wrapperCol:{span:24}},n=this.props.item,a=n.send_num,r=this.props.imgFiles;this.state.mymark&&(this.state.showFileList=r);var i=this.props.form.getFieldDecorator,o=this.state.showFileList,s={action:"//jsonplaceholder.typicode.com/posts/",listType:"picture-card",onRemove:function(t){e.setState(function(e){var n=e.fileList,a=n.indexOf(t),l=n.slice();return l.splice(a,1),{fileList:l}})},beforeUpload:function(t){return e.setState(function(e){return{fileList:[].concat(l(e.fileList),[t])}}),!1},fileList:this.state.fileList},m=T.default.createElement("div",null,T.default.createElement(k.default,{type:"plus"}),T.default.createElement("div",{className:"ant-upload-text"},"Upload"));return T.default.createElement("div",{className:"my-custom-padding"},T.default.createElement("main",null,T.default.createElement(j.default,null,T.default.createElement(y.default,{gutter:8},T.default.createElement(v.default,{span:11},T.default.createElement(M,R({},t,{label:"\u88c5\u8f66\u91cf(\u5428)"}),i("send_num",{initialValue:a})(T.default.createElement(E.default,{onContextMenu:u,onPaste:u,onCopy:u,onCut:u,autoComplete:"off"})))),T.default.createElement(v.default,{span:2})),T.default.createElement(y.default,null,T.default.createElement(v.default,{span:11},T.default.createElement("div",null,"\u88c5\u8f66\u78c5\u5355"),T.default.createElement(p.default,R({},s,{fileList:o,onChange:this.handleChange}),o.length>=1?null:m))),T.default.createElement(y.default,{style:{marginTop:"10px"}},T.default.createElement(v.default,{style:{textAlign:"right"}},T.default.createElement(f.default,{onClick:c.bind(this),style:{marginRight:"10px"}},"\u53d6\u6d88"),T.default.createElement(f.default,{type:"primary",loading:this.state.loading,onClick:function(t){return d.bind(e)(t,n)}},"\u786e\u5b9a"))))))}}]),t}(T.default.Component));z=D()(z),t.default=z,e.exports=t.default},1897:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t,n){var a=this.state.pagination;a.current=e.current,a.limit=e.pageSize,this.setState({pagination:a}),this.fetch(O({pageSize:e.pageSize,limit:e.pageSize,page:e.current,currentPage:e.current,sortField:n.field,sortOrder:n.order},t))}function c(e,t,n){var a=this.props,l=a.pthis,r=(a.mykey,l),i=[].concat(o(r.state.finish)),u=i.filter(function(e){return t===e.key})[0];u&&(u[n]=e,u.summary_fee=Number(u.goods_num)*Number(u.goods_price)+Number(u.deliver_fee)+Number(u.extra_fee),this.setState({finish:i}))}Object.defineProperty(t,"__esModule",{value:!0});var d=n(263),s=a(d),f=n(86),m=a(f),p=n(64),h=a(p),y=n(65),b=a(y),v=n(41),g=a(v),E=n(21),_=a(E),k=n(29),x=a(k),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(468),n(268),n(63),n(72),n(62),n(27),n(31);var C=n(0),S=a(C),j=n(1521),N=(a(j),n(20)),P=n(57),R=(a(P),n(32),n(272)),F=(x.default.TabPane,_.default.Option,function(e){function t(e){l(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={pagination:{pageSize:10},data:[],loading:!1,myflag:!1},n.callback=n.callback.bind(n),n}return i(t,e),w(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.form.validateFields(function(e,t){e||console.log("Received values of form: ",t)})}},{key:"callback",value:function(e){console.log(e)}},{key:"handleTableChange",value:function(e,t,n){u.bind(this)(e,t,n)}},{key:"fetch",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"getStatusButton",value:function(e){var t=this,n=this.props,a=(n.pthis,n.go,Number(e.status)),l=(e.saler_or_buyer,""),r=S.default.createElement("div",null,S.default.createElement("div",{className:"my-custom-center",style:{marginBottom:"3px"},onClick:function(){return t.updatesubmit.bind(t)()}},S.default.createElement(g.default,{type:"primary"},"\u786e\u8ba4\u4fee\u6539"))),i=S.default.createElement("div",null,S.default.createElement("div",{className:"my-custom-center",style:{marginBottom:"3px"},onClick:function(){return t.comfirmAccount.bind(t)(e.order_id)}},S.default.createElement(g.default,{type:"primary"},"\u786e\u8ba4\u7ed3\u7b97"))),o=S.default.createElement("div",null,S.default.createElement("div",{className:"my-custom-center",style:{marginBottom:"3px"},onClick:function(){return t.updateyundan.bind(t)()}},S.default.createElement(g.default,{type:"primary"},"\u4fee\u6539\u7ed3\u7b97")));switch(a){case 4:l=this.state.myflag?S.default.createElement("span",null,r,i):S.default.createElement("span",null,o,i)}return l}},{key:"comfirmAccount",value:function(e){var t=this,n=this.props,a=n.pthis,l=n.go,r=function(){N.RequireUtils.baseRequire("order-finish/confirm-finish",{order_id:e},function(e){e.code?(b.default.success(e.msg),l.bind(a)(),t.setState({loading:!1,myflag:!1}),l.bind(a)()):(b.default.error(e.msg),t.setState({loading:!1}))}.bind(this))};this.firstComfirm("\u60a8\u786e\u5b9a\u8981\u7ed3\u7b97\u8ba2\u5355\u5417\uff1f","",r)}},{key:"firstComfirm",value:function(e,t,n){R.Modal.confirm({title:e,content:t,onOk:function(){n()},onCancel:function(){}})}},{key:"updatesubmit",value:function(){for(var e=this.props,t=e.pthis,n=e.go,a=t.state,l=a.yundan,r=(a.currentkey,a.finish),i=a.memo,o=[],u=0;u<l.length;u++){var c=l[u].cars,d=c.filter(function(e,t){return 8!=e.car_status}),s=d.map(function(e){var t={};return t.id=e.id,t.send_num=e.send_num,t.recv_num=e.recv_num,t.final_num=e.final_num,t});o=o.concat(s)}var f=r[0],m={};m.modify_delivers=JSON.stringify(o),m.order_id=f.order_id,m.memo=i,m.deliver_fee=f.deliver_fee,m.extra_fee=f.extra_fee,m.goods_price=f.goods_price;var p=this,h=function(){N.RequireUtils.baseRequire("order-finish/submit-modify",m,function(e){e.code?(b.default.success(e.msg),n.bind(t)(),p.setState({loading:!1,myflag:!1})):(b.default.error(e.msg),p.setState({loading:!1}))}.bind(this))};this.firstComfirm("\u60a8\u786e\u5b9a\u8981\u4fee\u6539\u8be5\u8ba2\u5355\u5417\uff1f","",h)}},{key:"updateyundan",value:function(){var e=this.props,t=e.pthis,n=e.mykey,a=t.state.yundan,l=t.state.finish,r=a.map(function(e,t){var n=e.cars,a=n.map(function(e,t){return e.editable=!0,e});return e.cars=a,e}),i=l.map(function(e,t){return e.editable=!0,e});this.setState({myflag:!0}),t.setState({yundan:r,finish:i,currentkey:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.finish,a=(t.go,[{title:"\u7ed3\u7b97\u91cf",dataIndex:"goods_num",key:"goods_num",render:function(e,t){return S.default.createElement("span",null,e," \u5428")}},{title:"\u4ef7\u683c",dataIndex:"goods_price",key:"goods_price",render:function(t,n){return S.default.createElement("span",null,n.editable?S.default.createElement(h.default,{style:{margin:"-5px 0",width:"60%"},value:t,onChange:function(t){return c.bind(e)(t.target.value,n.key,"goods_price")}}):t,"\u5143/\u5428")}},{title:"\u8fd0\u8d39",dataIndex:"deliver_fee",key:"deliver_fee",render:function(t,n){return S.default.createElement("span",null,n.editable?S.default.createElement(h.default,{style:{margin:"-5px 0",width:"60%"},value:t,onChange:function(t){return c.bind(e)(t.target.value,n.key,"deliver_fee")}}):t,"\u5143")}},{title:"\u989d\u5916\u8d39\u7528",dataIndex:"extra_fee",key:"extra_fee",render:function(t,n){return S.default.createElement("span",null,n.editable?S.default.createElement(h.default,{style:{margin:"-5px 0",width:"60%"},value:t,onChange:function(t){return c.bind(e)(t.target.value,n.key,"extra_fee")}}):S.default.createElement("span",{style:{color:"red"}},S.default.createElement(m.default,{placement:"top",title:n.memo},t," \u5143")))}},{title:"\u7ed3\u7b97\u91d1\u989d",dataIndex:"summary_fee",key:"summary_fee",render:function(e,t){return S.default.createElement("span",null,e," \u5143")}},{title:"",dataIndex:"op",key:"op",render:function(t,n){return S.default.createElement("div",null,e.getStatusButton(n))}}]);return S.default.createElement("div",{className:"my-table-title-center-balancelistdetail"},S.default.createElement(s.default,{columns:a,dataSource:n,pagination:{position:"none"},loading:this.state.loading}))}}]),t}(S.default.Component));t.default=F,e.exports=t.default}});
//# sourceMappingURL=31.10b74c44.chunk.js.map